<?xml version="1.0" encoding="UTF-8"?>
<!--  !DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd"-->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-3.0.xsd">

	<!--Encoders -->

<bean id="PNGEncoder" class="org.geowebcache.io.codec.PNGImageEncoder">
		<constructor-arg index="0" value="false" />
		<constructor-arg index="1" value="1" />
		<constructor-arg index="2">
			<map>
				<entry key="COMPRESSION" value="FILTERED" />
				<entry key="COMPRESSION_RATE" value="0.75" />
			</map>
		</constructor-arg>
		<constructor-arg index="3" value="false" />
	</bean>

	<bean id="GIFEncoder" class="org.geowebcache.io.codec.ImageEncoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/gif</value>
			</list>
		</constructor-arg>
		<constructor-arg>
			<map>
				<entry key="COMPRESSION" value="NULL" />
				<entry key="COMPRESSION_RATE" value="NULL" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="JPEGEncoder" class="org.geowebcache.io.codec.ImageEncoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/jpeg</value>
			</list>
		</constructor-arg>
		<constructor-arg>
			<map>
				<entry key="COMPRESSION" value="JPEG" />
				<entry key="COMPRESSION_RATE" value="0.75" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="TIFFEncoder" class="org.geowebcache.io.codec.ImageEncoderImpl">
		<constructor-arg type="boolean" value="false" />
		<constructor-arg>
			<list>
				<value>image/tiff</value>
			</list>
		</constructor-arg>
		<constructor-arg>
			<map>
				<entry key="COMPRESSION" value="Deflate" />
				<entry key="COMPRESSION_RATE" value="0.75" />
			</map>
		</constructor-arg>
        <constructor-arg value="it.geosolutions.imageioimpl.plugins.tiff.TIFFImageWriterSpi"/>
	</bean>

	<bean id="BMPEncoder" class="org.geowebcache.io.codec.ImageEncoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/bmp</value>
			</list>
		</constructor-arg>
		<constructor-arg>
			<map>
				<entry key="COMPRESSION" value="NULL" />
				<entry key="COMPRESSION_RATE" value="NULL" />
			</map>
		</constructor-arg>
	</bean>

	<!--Decoders -->

	<bean id="PNGDecoder" class="org.geowebcache.io.codec.ImageDecoderImpl">
		<constructor-arg type="boolean" value="false" />
		<constructor-arg>
			<list>
				<value>image/png</value>
				<value>image/png; mode=24bit</value>
			</list>
		</constructor-arg>
	</bean>

	<bean id="GIFDecoder" class="org.geowebcache.io.codec.ImageDecoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/gif</value>
			</list>
		</constructor-arg>
	</bean>

	<bean id="JPEGDecoder" class="org.geowebcache.io.codec.ImageDecoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/jpeg</value>
			</list>
		</constructor-arg>
	</bean>

	<bean id="TIFFDecoder" class="org.geowebcache.io.codec.ImageDecoderImpl">
		<constructor-arg type="boolean" value="false" />
		<constructor-arg>
			<list>
				<value>image/tiff</value>
			</list>
		</constructor-arg>
	</bean>

	<bean id="BMPDecoder" class="org.geowebcache.io.codec.ImageDecoderImpl">
		<constructor-arg type="boolean" value="true" />
		<constructor-arg>
			<list>
				<value>image/bmp</value>
			</list>
		</constructor-arg>
	</bean>

	<bean id="decoderContainer" class="org.geowebcache.io.codec.ImageDecoderContainer" />

	<bean id="encoderContainer" class="org.geowebcache.io.codec.ImageEncoderContainer" />

</beans>
